<?php

function connect_to_db(){
// å„ç¨®é …ç›®è¨­å®š mysqlã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã®åå‰ã¯ã€€phpMyAdminã®ãƒ•ã‚¡ã‚¤ãƒ«åã«å¤‰æ›´ã™ã‚‹
$dbn ='mysql:dbname=gs_l10_02_work_php02;charset=utf8mb4;port=3306;host=localhost';
// #######    ã•ãã‚‰ã‚µãƒ¼ãƒãƒ¼ãªã©ã«ä¸Šã’ã‚‹ã¨ãã¯ã“ã“ã‚’ ã•ãã‚‰ã®idåã«å¤‰æ›´ã™ã‚‹ï¼ã€€ã‚¶ãƒ³ãƒ—ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯rootã§OKï¼
$user = 'root'; 
// #######    ã•ãã‚‰ã‚µãƒ¼ãƒãƒ¼ã«ä¸Šã’ã‚‹æ™‚ã¯ã“ã“ã‚’ ã•ãã‚‰ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«å¤‰æ›´ã™ã‚‹ï¼ã€€ã‚¶ãƒ³ãƒ—ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ä½•ã‚‚è¨˜å…¥ã—ãªãã¦OKï¼ã¾ã‚“ã·ã®å ´åˆã¯root
$pwd = '';

try {
    // ğŸ‘‡é–¢æ•°ã«ã™ã‚‹ã¨ãã€ã“ã“ return ã«å¤‰ãˆã‚‹ï¼
    return new PDO($dbn, $user, $pwd);
  } catch (PDOException $e) {
    // DBæ¥ç¶šã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹å ´åˆã¯ã€ã“ã“ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚
    echo json_encode(["db error" => "{$e->getMessage()}"]);
    exit();
  }
}
  